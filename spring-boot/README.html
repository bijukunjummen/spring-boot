<!DOCTYPE html>
<html>
<head>
  <title>Spring Boot</title>
  <link rel="stylesheet" type="text/css" href="/spring-boot/bootstrap/css/bootstrap.min.css" />
  <link href='http://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="/spring-boot/font-awesome/css/font-awesome.min.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/bootstrap/css/bootstrap-select.css" />

  <link rel="stylesheet" type="text/css" href="/spring-boot/css/main.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/typography.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/icons.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/projects.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/buttons.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/guide.css.css" />

  <script type="text/javascript" src="/spring-boot/js/jquery.js"></script>
  <script type="text/javascript" src="/spring-boot/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/spring-boot/bootstrap/js/bootstrap-select.js"></script>

  <script type="text/javascript" src="/spring-boot/js/underscore.js"></script>
  <script type="text/javascript" src="/spring-boot/js/backbone.js"></script>
  <script type="text/javascript" src="/spring-boot/js/projectDocumentationWidget.js"></script>
  <script type="text/javascript" src="/spring-boot/js/application.js"></script>
  <script type="text/javascript" src="/spring-boot/js/ZeroClipboard.min.js"></script>
  <script type="text/javascript">
    var apiBaseUrl = "http://springframework.io";
    var projectId = "spring-boot";
    var siteBaseUrl = "/spring-boot";
  </script>
  <script type="text/javascript" src="/spring-boot/js/copySnippets.js"></script>
  <meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" />
</head>
<body>
  <header class="navbar header--navbar">
    <div class="navbar-inner">
      <div class="container-fluid">
        <div class="spring-logo--container">
          <div class="logo-bg"></div>
          <a class="spring-logo" href="http://springframework.io"></a>
        </div>
        <ul class="nav pull-right">
          <li class="navbar-link">
            <a href="http://springframework.io/docs">Docs</a>
          </li>
          <li class="navbar-link">
            <a href="http://springframework.io/guides">Guides</a>
          </li>
          <li class="navbar-link active">
            <a href="http://springframework.io/projects">Projects</a>
          </li>
          <li class="navbar-link">
            <a href="http://springframework.io/blog">Blog</a>
          </li>
          <li class="navbar-link">
            <a href="http://forum.springframework.io">Forum</a>
          </li>
          <li class="navbar-link nav-search">
            <i class="icon-search navbar-search--icon js-search-input-open"></i>
            <div class="search-input-close js-search-input-close">x</div>
          </li>
        </ul>
      </div>
    </div>
    <div class="search-dropdown--container js-search-dropdown">
      <div class="container-fluid">
        <div class="search-form--container">
          <form class="form-inline form-search" action="http://springframework.io/search" method="get">
            <input type="text" class="search-query search-form--form js-search-input" placeholder="Search for documention, guides, and posts..." name="q" />
            <button type="submit" class="search-form--submit"><i class="icon-search"></i></button>
          </form>
        </div>
      </div>
    </div>
  </header>

  <div class="body--container container-fluid">
    <h1 id="toc_0">Spring Boot - Core</h1>

<p>This module provides the core features for the other modules in the project. It is 
relatively unopinionated and it has minimal required dependencies which makes it usable 
as a stand-alone library for anyone whose tastes diverge from ours.</p>

<h2 id="toc_1">SpringApplication</h2>

<p>The <code>SpringApplication</code> class provides a convenient way to bootstrap a Spring application
that will be started from a <code>main()</code> method. In many situations you can just delegate
to the static <code>SpringApplication.run</code> method:</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">MySpringConfiguration</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>
<p>When you application starts you should see something similar to the following:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">  .   ____          _            __ _ _
 /\\ / ___&#39;_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | &#39;_ | &#39;_| | &#39;_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  &#39;  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::   v0.0.0.BUILD.SNAPSHOT

2013-07-31 00:08:16.117  INFO 56603 --- [           main] o.s.b.s.app.SampleApplication   : Starting SampleApplication v0.1.0 on mycomputer with PID 56603 (/apps/myapp.jar started by pwebb)
2013-07-31 00:08:16.166  INFO 56603 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6e5a8246: startup date [Wed Jul 31 00:08:16 PDT 2013]; root of context hierarchy
</code></pre></div>
<p>By default <code>INFO</code> logging messages will shown, including some relevant startup details
such as the user that launched the application.</p>

<h3 id="toc_2">Customizing SpringApplication</h3>

<p>If the SpringApplication defaults aren&#39;t to your taste you can instead create a local
instance and customize it. For example, to turn off the banner you would write:</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">SpringApplication</span> <span class="n">app</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SpringApplication</span><span class="o">(</span><span class="n">MySpringConfiguration</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">app</span><span class="o">.</span><span class="na">setShowBanner</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
    <span class="n">app</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>
<p>Note that the constructor arguments passed to <code>SpringApplication</code> are configuration 
sources for spring beans. In most cases these will be references to <code>@Configuration</code>
classes, but they could also be references to XML configuration or to packages that
should be scanned.</p>

<p>See the <code>SpringApplication</code> Javadoc for a complete list of the configuration options  </p>

<h3 id="toc_3">Accessing command line properties</h3>

<p>By default <code>SpringApplication</code> will convert any command line option arguments (starting 
with &#39;--&#39;, e.g. <code>--server.port=9000</code>) to a <code>PropertySource</code> and add it to the Spring 
<code>Environment</code> with highest priority (taking precedence and overriding values  from other 
sources). Properties in the <code>Environment</code> (including System properties and OS environment 
variables) can always be injected into Spring components using <code>@Value</code> with
 placeholders, e.g.</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.springframework.stereotype.*</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.*</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyBean</span> <span class="o">{</span>

    <span class="nd">@Value</span><span class="o">(</span><span class="s">&quot;${name}&quot;</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span> 
    <span class="c1">// Running &#39;java -jar myapp.jar --name=Spring&#39; will set this to &quot;Spring&quot;</span>

    <span class="c1">// ...  </span>
<span class="o">}</span>
</code></pre></div>
<h3 id="toc_4">CommandLineRunner beans</h3>

<p>If you want access to the raw command line argument, or you need to run some specific
code once the <code>SpringApplication</code> has started you can implement the <code>CommandLineRunner</code>
interface. The <code>run(String... args)</code> method will be called on all spring beans 
implementing this interface.</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.springframework.boot.*</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.*</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyBean</span> <span class="kd">implements</span> <span class="n">CommandLineRunner</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Do something...</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div>
<p>You can additionally implement the <code>org.springframework.core.Ordered</code> interface or use
the <code>org.springframework.core.annotation.Order</code> annotation if several <code>CommandLineRunner</code>
beans are defined that must be called in a specific order.</p>

<h3 id="toc_5">Application Exit</h3>

<p>Each <code>SpringApplication</code> will register a shutdown hook with the JVM to ensure that the
<code>ApplicationContext</code> is closed gracefully on exit. All the standard Spring lifecycle
callbacks (such as the <code>DisposableBean</code> interface, or the <code>@PreDestroy</code> annotation)
can be used.</p>

<p>In addition, beans may implement the <code>org.springframework.boot.ExitCodeGenerator</code>
interface if they with to return a specific exit code when the application ends.</p>

<h3 id="toc_6">Externalized Configuration</h3>

<p>A <code>SpringApplication</code> will load properties from <code>application.properties</code> in the root of 
your classpath and  add them to the Spring <code>Environment</code>. The actual search path for the 
files is:</p>

<ol>
<li>classpath root</li>
<li>current directory</li>
<li>classpath <code>/config</code> package</li>
<li><code>/config</code> subdir of the current directory.</li>
</ol>

<p>The list is ordered by decreasing precedence (so properties can be overridden by others 
with the same name defined in later locations). In addition, profile specific properties
can also be defined using the naming convention <code>application-{profile}.properties</code> 
(properties from these files override the default ones).</p>

<p>The values in <code>application.properties</code> are filtered through the existing <code>Environment</code> 
when they are used so you can refer back to previously defined values (e.g. from System 
properties).</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">app.name: MyApp
app.description: ${app.name} is a Spring Boot application
</code></pre></div>
<p>If you don&#39;t like <code>application.properties</code> as the configuration file name you can 
switch to another by specifying <code>spring.config.name</code> environment property. You can also 
refer to an explicit location using the <code>spring.config.location</code> environment property.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ java -jar myproject.jar --spring.config.name=myproject
</code></pre></div>
<blockquote>
<p><strong>Note:</strong> You can also use &#39;.yaml&#39; files as an alternative to &#39;.properties&#39; (see 
<a href="#using-yaml-instead-of-properties">below</a>)_</p>
</blockquote>

<h3 id="toc_7">Setting the Default Spring Profile</h3>

<p>Spring Profiles are a way to segregate parts of the application configuration and make it 
only available in certain environments.  Any <code>@Component</code> that is marked with <code>@Profile</code> 
will only be loaded in the profile specified by the latter annotation.</p>

<p>A <code>SpringApplication</code> takes this a stage further, in that you can use a 
<code>spring.active.profiles</code> <code>Environment</code> property to specify which profiles are active. 
You can specify the property in any of the usual ways, for example you could include
it in your <code>application.properties</code>:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">spring.active.profiles=dev,hsqldb
</code></pre></div>
<p>or specify on the command line using the switch <code>--spring.profiles.active=dev,hsqldb</code>.</p>

<h3 id="toc_8">Application Context Initializers</h3>

<p>Spring provides a convenient <code>ApplicationContextInitializer</code> interface that can be used
to customize an <code>ApplicationContext</code> before it is used. If you need to use an initializer
with your <code>SpringApplication</code> you can use the <code>addInitializers</code> method.</p>

<p>You can also specify initializers by setting comma-delimited list of class names to the
<code>Environment</code> property <code>context.initializer.classes</code> or by using Spring&#39;s 
<code>SpringFactoriesLoader</code> mechanism.</p>

<h2 id="toc_9">Embedded Servlet Container Support</h2>

<p>Spring Boot introduces a new type of Spring <code>ApplicationContext</code> that can be used to
start an embedded servlet container. The <code>EmbeddedWebApplicationContext</code>  is a special 
type of <code>WebApplicationContext</code> that starts the container by searching for a single 
<code>EmbeddedServletContainerFactory</code> bean contained within itself. We provide 
<code>TomcatEmbeddedServletContainerFactory</code> and <code>JettyEmbeddedServletContainerFactory</code>
 implementations for running embedded Tomcat or Jetty. </p>

<p>One advantage of using a Spring bean to define the embedded container is that you can use<br>
all the standard Spring concepts. For example, it becomes trivial to define a Tomcat
server that sets its port from an injected <code>@Value</code>.</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfiguration</span> <span class="o">{</span>

    <span class="nd">@Value</span><span class="o">(</span><span class="s">&quot;${tomcatport:8080}&quot;</span><span class="o">)</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">port</span><span class="o">;</span> 

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">EmbeddedServletContainerFactory</span> <span class="nf">servletContainer</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">TomcatEmbeddedServletContainerFactory</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">port</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div>
<h3 id="toc_10">Customizing Servlet Containers</h3>

<p>Both the Tomcat and Jetty factories extend from the base 
<code>AbstractEmbeddedServletContainerFactory</code> class. This provides a uniform way
to configure both containers.</p>

<p>Settings that you would traditionally configure in a <code>web.xml</code> or via an implementation
specific configuration file can now be performed programmatically.</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="n">EmbeddedServletContainerFactory</span> <span class="nf">servletContainer</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">TomcatEmbeddedServletContainerFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TomcatEmbeddedServletContainerFactory</span><span class="o">();</span>
    <span class="n">factory</span><span class="o">.</span><span class="na">setPort</span><span class="o">(</span><span class="mi">9000</span><span class="o">);</span>
    <span class="n">factory</span><span class="o">.</span><span class="na">setSessionTimeout</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">MINUTES</span><span class="o">);</span>
    <span class="n">factory</span><span class="o">.</span><span class="na">addErrorPages</span><span class="o">(</span><span class="k">new</span> <span class="n">ErrorPage</span><span class="o">(</span><span class="n">HttpStatus</span><span class="o">.</span><span class="mi">404</span><span class="o">,</span> <span class="s">&quot;/notfound.html&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">factory</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>
<p>In addition, you can also add <code>ServletContextInitializer</code> implementations which allow
you to customize the <code>javax.servlet.ServletContext</code> in the same way as any Servlet 3.0
environment.</p>

<h3 id="toc_11">Servlets and Filters</h3>

<p>Servlets and Filters can be defined directly as beans with the 
<code>EmbeddedWebApplicationContext</code>. By default, if the context contains only a single 
Servlet it will be mapped to &#39;/&#39;. In the case of multiple Servlets beans the bean name 
will be used as a path prefix. Filters will map to &#39;/*&#39;.</p>

<p>If convention based mapping is not flexible enough you can use the 
<code>ServletRegistrationBean</code> and <code>FilterRegistrationBean</code> classes for complete control. You
can also register items directly if your bean implements the <code>ServletContextInitializer</code>
interface.</p>

<h2 id="toc_12">Using YAML instead of Properties</h2>

<p><a href="http://yaml.org">YAML</a> is a superset of JSON, and as such is a very convenient format
for specifying hierarchical configuration data. The <code>SpringApplication</code> class will 
automatically support YAML as an alternative to properties whenever you have the
<a href="http://code.google.com/p/snakeyaml/">SnakeYAML</a> library on your classpath.</p>

<h3 id="toc_13">Loading YAML</h3>

<p>Spring Boot provides two convenient classes that can be used to load YAML documents. The
<code>YamlPropertiesFactoryBean</code> will load YAML as <code>Properties</code> and the <code>YamlMapFactoryBean</code>
will load YAML as a <code>Map</code>.</p>

<p>For example, the following YAML document:
<code>yaml
dev:
    url: http://dev.bar.com
    name: Developer Setup
prod:
    url: http://foo.bar.com
    name: My Cool App
</code></p>

<p>Would be transformed into these properties:
<code>
environments.dev.url=http://dev.bar.com
environments.dev.name=Developer Setup
environments.prod.url=http://foo.bar.com
environments.prod.name=My Cool App
</code></p>

<p>YAML lists are represented as comma-separated values (useful for simple String values) 
 and also as property keys with <code>[index]</code> dereferencers, for example this YAML:</p>
<div class="highlight"><pre><code class="yaml language-yaml" data-lang="yaml"> <span class="l-Scalar-Plain">servers</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">dev.bar.com</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">foo.bar.com</span>
</code></pre></div>
<p>Would be transformed into these properties:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">servers=dev.bar.com,foo.bar.com
servers[0]=dev.bar.com
servers[1]=foo.bar.com
</code></pre></div>
<h3 id="toc_14">Exposing YAML as properties in the Spring Environment.</h3>

<p>The <code>YamlPropertySourceLoader</code> class can be used to expose YAML as a <code>PropertySource</code>
in the Spring <code>Environment</code>. This allows you to the familiar <code>@Value</code> with placeholders
syntax to access YAML properties.</p>

<p>You can also specify multiple profile-specific YAML document in a single file by
by using a <code>spring.profiles</code> key to indicate when the document applies. For example:</p>
<div class="highlight"><pre><code class="yaml language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">server</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">address</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">192.168.1.100</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">spring</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">profiles</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">production</span>
<span class="l-Scalar-Plain">server</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">address</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">192.168.1.120</span>
</code></pre></div>
<h2 id="toc_15">Typesafe Configuration Properties</h2>

<p>Use the <code>@Value(&quot;${property}&quot;)</code> annotation to inject configuration properties can
sometimes be cumbersome, especially if you are working with multiple properties or
your data is hierarchical in nature. Spring Boot provides an alternative method
of working with properties that allows strongly typed beans to govern and validate
the configuration of your application. For example:</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@Component</span>
<span class="nd">@ConfigurationProperties</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;connection&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ConnectionSettings</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">username</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">InetAddress</span> <span class="n">remoteAddress</span><span class="o">;</span>

    <span class="c1">// ... getters and setters</span>

<span class="o">}</span>
</code></pre></div>
<p>When the <code>@EnableConfigurationProperties</code> annotation is applied to your <code>@Configuration</code>,
any beans annotated with <code>@ConfigurationProperties</code> will automatically be configured
from the <code>Environment</code> properties. This style of configuration works particularly well
with the <code>SpringApplication</code> external YAML configuration:</p>
<div class="highlight"><pre><code class="yaml language-yaml" data-lang="yaml"><span class="c1"># application.yml</span>

<span class="l-Scalar-Plain">connection</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">username</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">admin</span>
    <span class="l-Scalar-Plain">remoteAddress</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">192.168.1.1</span>

<span class="c1"># additional configuration as required</span>
</code></pre></div>
<p>To work with <code>@ConfigurationProperties</code> beans you can just inject them in the same way
as any other bean.</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyService</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">ConnectionSettings</span> <span class="n">connection</span><span class="o">;</span> 

    <span class="c1">//...</span>

    <span class="nd">@PostConstruct</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">openConnection</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Server</span> <span class="n">server</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Server</span><span class="o">();</span>
        <span class="k">this</span><span class="o">.</span><span class="na">connection</span><span class="o">.</span><span class="na">configure</span><span class="o">(</span><span class="n">server</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>It is also possible to shortcut the registration of <code>@ConfigurationProperties</code> bean 
definitions by simply listing the properties classes directly in the 
<code>@EnableConfigurationProperties</code> annotation:</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@Configuration</span>
<span class="nd">@EnableConfigurationProperties</span><span class="o">(</span><span class="n">ConnectionSettings</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfiguration</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="toc_16">Relaxed binding</h3>

<p>Spring Boot uses some relaxed rules for binding <code>Environment</code> properties to 
<code>@ConfigurationProperties</code> beans, so there doesn&#39;t need to be an exact match between 
the <code>Environment</code> property name and the bean property name.  Common examples where this 
is useful include underscore separated (e.g. <code>context_path</code> binds to <code>contextPath</code>), and
capitalized (e.g. <code>PORT</code> binds to <code>port</code>) environment properties.</p>

<p>Spring will attempt to coerce the external application properties to the right type when 
it binds to the <code>@ConfigurationProperties</code> beans. If you need custom type conversion you 
can provide a <code>ConversionService</code> bean (with bean id <code>conversionService</code>) or custom
property editors (via a <code>CustomEditorConfigurer</code> bean).</p>

<h3 id="toc_17">@ConfigurationProperties Validation</h3>

<p>Spring Boot will attempt to validate external configuration, by default using JSR-303 
(if it is on the classpath). You can simply add JSR-303 <code>javax.valididation</code> constraint
annotations to your <code>@ConfigurationProperties</code> class:</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@Component</span>
<span class="nd">@ConfigurationProperties</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;connection&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ConnectionSettings</span> <span class="o">{</span>

    <span class="nd">@NotNull</span>
    <span class="kd">private</span> <span class="n">InetAddress</span> <span class="n">remoteAddress</span><span class="o">;</span>

    <span class="c1">// ... getters and setters</span>

<span class="o">}</span>
</code></pre></div>
<p>You can also add a custom Spring <code>Validator</code> by creating a bean definition called 
<code>configurationPropertiesValidator</code>.</p>

<h3 id="toc_18">Using Project Lombok</h3>

<p>You can safely use <a href="http://projectlombok.org">Project Lombok</a> to generate getters and 
setters for your <code>@ConfigurationProperties</code>. Refer to the documentation on the Lombok 
for how to enable it in your compiler or IDE.</p>

<h3 id="toc_19">External EmbeddedServletContainerFactory configuration</h3>

<p>Spring Boot includes a <code>@ConfigurationProperties</code> annotated class called 
<code>ServerProperties</code> that can be used to configure the <code>EmbeddedServletContainerFactory</code>.</p>

<p>When registered as a bean, the <code>ServerProperties</code> can be used to specify:</p>

<ul>
<li>The port that the application listens on for its endpoints
(<code>server.port</code> defaults to <code>8080</code>)</li>
<li>The address that the application endpoints are available on
(<code>server.address</code> defaults to all local addresses, making it available to connections
from all clients).</li>
<li>The context root of the application endpoints (<code>server.context_path</code>
defaults to &#39;/&#39;)</li>
</ul>

<p>If you are using Tomcat as you embedded container then, in addition to the
generic <code>ServerProperties</code>, you can also bind <code>server.tomcat.*</code> properties
to specify:</p>

<ul>
<li>The Tomcat access log pattern (<code>server.tomcat.accessLogPattern</code>)</li>
<li>The remote IP and protocol headers (<code>server.tomcat.protocolHeader</code>, 
<code>server.tomcat.remoteIpHeader</code>)</li>
<li>The Tomcat <code>base directory</code> (<code>server.tomcat.basedir</code>)</li>
</ul>

<h2 id="toc_20">Customizing Logging</h2>

<p>Spring Boot uses <a href="commons.apache.org/logging/%E2%80%8E">Commons Logging</a> for all internal logging,
but leaves the underlying log implementation open. Default configurations are provided for 
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/logging/package-summary.html">Java Util Logging</a>,
<a href="http://logging.apache.org/log4j/">Log4J</a> and <a href="http://logback.qos.ch/">Logback</a>.
In each case there is console output and file output (rotating, 10MB file size).</p>

<p>The various logging systems can be activated by including the appropriate libraries on 
the classpath, and further customized by supported by providing a suitable configuration
file in the root of the classpath, or in a location specified by the Spring <code>Environment</code> 
property <code>logging.config</code>.</p>

<p>Depending on your logging system, the following files will be loaded:</p>

<table><thead>
<tr>
<th>Logging System</th>
<th>Customization</th>
</tr>
</thead><tbody>
<tr>
<td>Logback</td>
<td>logback.xml</td>
</tr>
<tr>
<td>Log4j</td>
<td>log4j.properties or log4j.xml</td>
</tr>
<tr>
<td>JDK</td>
<td>logging.properties</td>
</tr>
</tbody></table>

<p>To help with the customization some other properties are transferred from the Spring 
<code>Environment</code> to System properties:</p>

<table><thead>
<tr>
<th>Environment</th>
<th>System Property</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>logging.file</td>
<td>LOG_FILE</td>
<td>Used in default log configuration if defined</td>
</tr>
<tr>
<td>logging.path</td>
<td>LOG_PATH</td>
<td>Used in default log configuration if defined</td>
</tr>
<tr>
<td>PID</td>
<td>PID</td>
<td>The current process ID is discovered if possible and not already provided</td>
</tr>
</tbody></table>

<p>All the logging systems supported can consult System properties when parsing their 
configuration files.  See the default configurations in <code>spring-boot.jar</code> for examples.</p>

<h2 id="toc_21">Cloud Foundry Support</h2>

<p>When a <code>SpringApplication</code> is deployed to <a href="http://www.cloudfoundry.com/">Cloud Foundry</a>
appropriate meta-data will be exposed as <code>Environemnt</code> properties. All Cloud Foundry 
properties are prefixed <code>vcap.</code> You can use vcap properties to access application 
information (such as the public URL of the application) and service information (such
as database credentials). See <code>ApplicationContextInitializer</code> Javdoc for complete details.</p>

<h2 id="toc_22">Further Reading</h2>

<p>For more information about any of the classes or interfaces discussed in the document
please refer to the extensive project Javadoc. If looking to reduce the amount of
configuration required for your application you should consider 
<a href="../spring-boot-autoconfigure/README.html">spring-boot-autoconfigure</a>. For operational
concerns see <a href="../spring-boot-actuator/README.html">spring-boot-actuator</a>. For details on
how to package your application into a single executable JAR file take a look at
<a href="../spring-boot-loader/README.html">spring-boot-loader</a>.</p>

  </div>

  <footer class="footer">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span8">
          <div class="navbar">
            <div class="container">
              <ul class="nav">
                <li><a href="http://springframework.io/tools">Tools</a></li>
                <li><a href="http://springframework.io/services">Services</a></li>
                <li><a href="http://springframework.io/about">About Us</a></li>
                <li><a href="http://springframework.io/jobs">Work With Us</a></li>
              </ul>
            </div>
          </div>
          &copy; <script type="text/javascript"> var d = new Date();
                document.write(d.getFullYear());</script> GoPivotal, Inc. All Rights Reserved.
          <a href="http://www.gopivotal.com/terms-of-use">Terms</a>,
          <a href="http://www.gopivotal.com/privacy-policy">Privacy</a>, and
          <a href="http://springframework.io/logos">Usage</a>
        </div>
        <div class="span4 footer-newsletter--wrapper pull-right">
          <div class="footer-newsletter--container">
            <form>
              <label>
                Subscribe to our newsletter
              </label>
              <div class="footer-subscribe--input--container">
                <input class="footer-subscribe--input" placeholder="Email Address (NOT REAL)" />
                <input type="submit" class="btn footer-subscibe--btn" value="Subscribe" />
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <div id="scrim"></div>
  <script type="text/html" id="project-documentation-widget-template">
    <div class="right-pane-widget--container no-top-border project-documentation--container">
        <div class="item-dropdown-widget">
            <div class="item-dropdown--title">{@= name @}</div>
            <div class="item--dropdown">
                <div class="item--body">
                    <div class="item--body-title">
                        <div class="item--left-column">Release</div>
                        <div class="item--right-column">Documentation</div>
                    </div>
                    {@ _.each(releases, function(release) { @}
                    <div class="item--body--version">
                        <div class="item--left-column">
                            <p>{@= release.version @}</p>
                            <div class="spring-icon {@= release.statusIconClass() @}"></div>
                        </div>
                        <div class="item--right-column">
                            <a href='{@= release.refDocUrl @}' class="docs-link reference-link">Reference</a>
                            <a href='{@= release.apiDocUrl @}' class="docs-link api-link">API</a>
                        </div>
                    </div>
                    {@ }); @}
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="project-download-widget-controls-template">
    <div class="js-download-widget-selector">
        <select class='selector selectpicker'>
            {@ _.each(releases, function(release, index) { @}
            <option value="{@= index @}" data-content="<span>{@= release.versionDisplayName @}</span><div class='spring-icon {@= release.statusIconClass() @}'/>" data-current="{@= release.current @}"> ()</option>
            {@ }); @}
        </select>
    </div>

    <div class="item-slider-widget js-item-slider--wrapper">
        <div class="item-slider--container">
            <div class="item--slider js-item--slider"></div>
            <div class="item js-active js-item" data-snippet-type='maven'>
                Maven
            </div>
            <div class="item js-item" data-snippet-type='gradle'>
                Gradle
            </div>
            <div class="item js-item" data-snippet-type='zip'>
                Zip
            </div>
        </div>
    </div>

</script>








<script type="text/html" id="project-download-maven-widget-template">
&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;{@= groupId @}&lt;/groupId&gt;
        &lt;artifactId&gt;{@= artifactId @}&lt;/artifactId&gt;
        &lt;version&gt;{@= version @}&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
{@ if (repository) { @}
&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;{@= repository.id @}&lt;/id&gt;
        &lt;name&gt;{@= repository.name @}&lt;/name&gt;
        &lt;url&gt;{@= repository.url @}&lt;/url&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;{@= repository.snapshotsEnabled @}&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;{@ } @}
</script>







<script type="text/html" id="project-download-gradle-widget-template">
dependencies {
    compile '{@= groupId @}:{@= artifactId @}:{@= version @}'
}
{@ if (repository) { @}
repositories {
    maven {
        url '{@= repository.url @}'
    }
}
{@ } @}
</script>

<script type="text/html" id="project-download-zip-widget-template">
This is a zip url
</script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-42447510-1', 'cfapps.io');
    ga('send', 'pageview');

  </script>
</body>
</html>
